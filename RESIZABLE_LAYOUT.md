# å¯è°ƒæ•´åˆ†éš”æ¡å¸ƒå±€é‡æ„æ€»ç»“

## ğŸ“ é‡æ„ç›®æ ‡

ä¸º AI Conference é¡¹ç›®çš„ PC ç«¯æ·»åŠ å¯è°ƒæ•´åˆ†éš”æ¡åŠŸèƒ½ï¼Œè®©ç”¨æˆ·å¯ä»¥æ ¹æ®ä¸ªäººå–œå¥½è°ƒæ•´å·¦ä¾§ä¾§è¾¹æ å’Œå³ä¾§ä¸»å†…å®¹åŒºçš„å®½åº¦æ¯”ä¾‹ã€‚

## ğŸ¯ å®ç°åŠŸèƒ½

### 1. **ResizableDivider ç»„ä»¶**
- **æ–‡ä»¶ä½ç½®**ï¼š`src/components/ui/ResizableDivider.tsx`
- **åŠŸèƒ½ç‰¹æ€§**ï¼š
  - æ”¯æŒé¼ æ ‡æ‹–æ‹½è°ƒæ•´å®½åº¦
  - é™åˆ¶æœ€å°/æœ€å¤§å®½åº¦èŒƒå›´ï¼ˆ200px - 600pxï¼‰
  - é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºè§†è§‰æç¤º
  - æ‹–æ‹½æ—¶æ˜¾ç¤ºé«˜äº®æ•ˆæœ
  - å¹³æ»‘çš„è¿‡æ¸¡åŠ¨ç”»

### 2. **useSidebarWidth Hook**
- **æ–‡ä»¶ä½ç½®**ï¼š`src/hooks/useSidebarWidth.ts`
- **åŠŸèƒ½ç‰¹æ€§**ï¼š
  - è‡ªåŠ¨ä» localStorage è¯»å–ä¿å­˜çš„å®½åº¦
  - å®½åº¦å˜åŒ–æ—¶è‡ªåŠ¨æŒä¹…åŒ–åˆ°æœ¬åœ°å­˜å‚¨
  - æä¾›é‡ç½®å®½åº¦åŠŸèƒ½
  - é»˜è®¤å®½åº¦ 320px

### 3. **å¸ƒå±€é›†æˆ**

#### Layout.tsxï¼ˆå¯¹è¯è§†å›¾ï¼‰
```typescript
// å¯¼å…¥ç»„ä»¶å’ŒHook
import ResizableDivider from './ui/ResizableDivider';
import { useSidebarWidth } from '../hooks/useSidebarWidth';

// ä½¿ç”¨Hookç®¡ç†å®½åº¦
const { sidebarWidth, updateSidebarWidth } = useSidebarWidth();

// PCç«¯æ˜¾ç¤ºåˆ†éš”æ¡ï¼ˆç§»åŠ¨ç«¯éšè—ï¼‰
<div className="hidden lg:block">
  <ResizableDivider
    onResize={updateSidebarWidth}
    initialWidth={sidebarWidth}
  />
</div>
```

#### SetupView.tsxï¼ˆè®¾ç½®è§†å›¾ï¼‰
- åŒæ ·é›†æˆäº†å¯è°ƒæ•´åˆ†éš”æ¡
- ç¡®ä¿åœ¨ API é…ç½®å’Œè§’è‰²è®¾ç½®é¡µé¢ä¿æŒä¸€è‡´çš„ä½“éªŒ

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### ResizableDivider ç»„ä»¶

```typescript
interface ResizableDividerProps {
  onResize: (width: number) => void;      // å®½åº¦å˜åŒ–å›è°ƒ
  initialWidth?: number;                  // åˆå§‹å®½åº¦
  minWidth?: number;                      // æœ€å°å®½åº¦
  maxWidth?: number;                      // æœ€å¤§å®½åº¦
  className?: string;                     // è‡ªå®šä¹‰æ ·å¼
}
```

**æ ¸å¿ƒæœºåˆ¶**ï¼š
1. **é¼ æ ‡äº‹ä»¶å¤„ç†**ï¼š
   - `onMouseDown`ï¼šå¼€å§‹æ‹–æ‹½
   - `onMouseMove`ï¼šå®æ—¶è®¡ç®—æ–°å®½åº¦
   - `onMouseUp`ï¼šç»“æŸæ‹–æ‹½

2. **å®½åº¦è®¡ç®—**ï¼š
   ```typescript
   const newWidth = Math.min(
     Math.max(e.clientX - containerRect.left, minWidth),
     maxWidth
   );
   ```

3. **è§†è§‰åé¦ˆ**ï¼š
   - **é»˜è®¤çŠ¶æ€**ï¼š4pxå®½åº¦çš„æ¸å˜åˆ†éš”æ¡ï¼ˆç°è‰²è°ƒï¼‰
   - **é¼ æ ‡æ‚¬åœ**ï¼šæ˜¾ç¤ºé’è“è‰²å‚ç›´æ¡å¸¦å‘å…‰æ•ˆæœ
   - **æ‹–æ‹½çŠ¶æ€**ï¼š
     - èƒŒæ™¯å˜ä¸ºé’è“è‰²æ¸å˜
     - æ·»åŠ å…‰æ™•æ•ˆæœï¼ˆbox-shadowï¼‰
     - é¼ æ ‡æŒ‡é’ˆå˜ä¸º col-resize
   - **å§‹ç»ˆå¯è§**ï¼šç»†çº¿æä¾›åŸºæœ¬è§†è§‰æç¤º

### useSidebarWidth Hook

```typescript
const {
  sidebarWidth,      // å½“å‰å®½åº¦
  updateSidebarWidth, // æ›´æ–°å®½åº¦å‡½æ•°
  resetSidebarWidth,  // é‡ç½®å®½åº¦å‡½æ•°
  minWidth,          // æœ€å°å®½åº¦å¸¸é‡
  maxWidth           // æœ€å¤§å®½åº¦å¸¸é‡
} = useSidebarWidth();
```

**æŒä¹…åŒ–æœºåˆ¶**ï¼š
```typescript
// è¯»å–ä¿å­˜çš„å®½åº¦
const savedWidth = localStorage.getItem(SIDEBAR_WIDTH_KEY);
if (savedWidth && isValidWidth(savedWidth)) {
  return parseInt(savedWidth, 10);
}

// ä¿å­˜å®½åº¦åˆ° localStorage
localStorage.setItem(SIDEBAR_WIDTH_KEY, width.toString());
```

## ğŸ“± å“åº”å¼æ”¯æŒ

### PC ç«¯ï¼ˆâ‰¥1024pxï¼‰
- âœ… æ˜¾ç¤ºå¯è°ƒæ•´åˆ†éš”æ¡
- âœ… æ”¯æŒé¼ æ ‡æ‹–æ‹½
- âœ… å®½åº¦æŒä¹…åŒ–
- âœ… æœ€å°/æœ€å¤§å®½åº¦é™åˆ¶

### ç§»åŠ¨ç«¯ï¼ˆ<1024pxï¼‰
- âœ… éšè—åˆ†éš”æ¡
- âœ… ä½¿ç”¨æ±‰å ¡èœå•åˆ‡æ¢ä¾§è¾¹æ 
- âœ… å›ºå®šå®½åº¦ï¼ˆæœ€å¤§è§†å£ 85%ï¼‰

## ğŸ¨ äº¤äº’è®¾è®¡

### æ‹–æ‹½æ“ä½œ
1. **é¼ æ ‡æ‚¬åœ**ï¼šåˆ†éš”æ¡å˜ä¸ºé’è“è‰²ï¼Œæ˜¾ç¤ºç»†çº¿æç¤º
2. **æŒ‰ä¸‹é¼ æ ‡**ï¼šå¼€å§‹æ‹–æ‹½ï¼ŒèƒŒæ™¯å˜ä¸ºåŠé€æ˜é’è“è‰²
3. **ç§»åŠ¨é¼ æ ‡**ï¼šå®æ—¶è°ƒæ•´ä¾§è¾¹æ å®½åº¦
4. **é‡Šæ”¾é¼ æ ‡**ï¼šå®Œæˆè°ƒæ•´ï¼Œä¿å­˜åˆ° localStorage

### è§†è§‰æç¤º
- **é»˜è®¤çŠ¶æ€**ï¼š1px ç°è‰²çº¿æ¡
- **æ‚¬åœçŠ¶æ€**ï¼šå˜ä¸ºé’è“è‰²ï¼Œæ˜¾ç¤ºæç¤ºç‚¹
- **æ‹–æ‹½çŠ¶æ€**ï¼šé’è“è‰²é«˜äº®èƒŒæ™¯

## ğŸ“Š é…ç½®å‚æ•°

| å‚æ•° | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| initialWidth | 320px | åˆå§‹å®½åº¦ |
| minWidth | 200px | æœ€å°å®½åº¦ |
| maxWidth | 600px | æœ€å¤§å®½åº¦ |
| transitionDuration | 200ms | è¿‡æ¸¡åŠ¨ç”»æ—¶é—´ |

## ğŸ”„ æ–‡ä»¶å˜æ›´

### æ–°å¢æ–‡ä»¶
- âœ… `src/components/ui/ResizableDivider.tsx` - å¯è°ƒæ•´åˆ†éš”æ¡ç»„ä»¶
- âœ… `src/hooks/useSidebarWidth.ts` - å®½åº¦ç®¡ç† Hook

### ä¿®æ”¹æ–‡ä»¶
- âœ… `src/components/Layout.tsx` - é›†æˆå¯è°ƒæ•´åˆ†éš”æ¡
- âœ… `src/components/SetupView.tsx` - é›†æˆå¯è°ƒæ•´åˆ†éš”æ¡

## âœ¨ ç”¨æˆ·ä½“éªŒæå‡

### å‰ï¼ˆBeforeï¼‰
- å›ºå®šå®½åº¦ä¾§è¾¹æ ï¼ˆ320pxï¼‰
- æ— æ³•æ ¹æ®å†…å®¹è°ƒæ•´
- ä¸åŒå±å¹•å°ºå¯¸ä¸‹ä½“éªŒä¸ä½³

### åï¼ˆAfterï¼‰
- âœ… å¯è‡ªç”±è°ƒæ•´å®½åº¦ï¼ˆ200px - 600pxï¼‰
- âœ… å®½åº¦è®¾ç½®æŒä¹…åŒ–ä¿å­˜
- âœ… æµç•…çš„æ‹–æ‹½äº¤äº’
- âœ… é€‚åˆå„ç§å±å¹•å’Œä¸ªäººåå¥½

## ğŸ§ª æµ‹è¯•å»ºè®®

### åŠŸèƒ½æµ‹è¯•
- [ ] æ‹–æ‹½åˆ†éš”æ¡è°ƒæ•´å®½åº¦
- [ ] å®½åº¦åœ¨æœ€å°/æœ€å¤§èŒƒå›´å†…é™åˆ¶
- [ ] åˆ·æ–°é¡µé¢åå®½åº¦ä¿æŒ
- [ ] é‡ç½®åŠŸèƒ½æ­£å¸¸
- [ ] ç§»åŠ¨ç«¯ä¸å—å½±å“

### å…¼å®¹æ€§æµ‹è¯•
- [ ] Chrome / Firefox / Safari / Edge
- [ ] é¼ æ ‡æ‹–æ‹½æµç•…æ€§
- [ ] é«˜åˆ†è¾¨ç‡å±å¹•ï¼ˆ2K/4Kï¼‰
- [ ] ä¸åŒçª—å£å¤§å°ä¸‹æ­£å¸¸æ˜¾ç¤º

## ğŸ‰ æˆæœæ€»ç»“

å¯è°ƒæ•´åˆ†éš”æ¡åŠŸèƒ½å·²å®Œæˆå¹¶æˆåŠŸé›†æˆåˆ°é¡¹ç›®ä¸­ï¼ä¸»è¦ä¼˜åŠ¿ï¼š

1. **ç”¨æˆ·ä½“éªŒ**ï¼šç”¨æˆ·å¯ä»¥æ ¹æ®ä¸ªäººå–œå¥½å’Œå†…å®¹éœ€æ±‚è‡ªç”±è°ƒæ•´å¸ƒå±€
2. **æŒä¹…åŒ–è®¾ç½®**ï¼šå®½åº¦è®¾ç½®è‡ªåŠ¨ä¿å­˜ï¼Œæ— éœ€é‡å¤è°ƒæ•´
3. **å“åº”å¼å‹å¥½**ï¼šPCç«¯å¼€å¯ï¼Œç§»åŠ¨ç«¯è‡ªåŠ¨ç¦ç”¨
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šä½¿ç”¨ CSS å˜æ¢å’Œäº‹ä»¶å§”æ‰˜ï¼Œé¿å…å¸ƒå±€æŠ–åŠ¨
5. **æ— éšœç¢æ”¯æŒ**ï¼šä¿ç•™åŸæœ‰çš„ç§»åŠ¨ç«¯å¯¼èˆªæ–¹å¼

è¯¥åŠŸèƒ½ä¸ä¹‹å‰çš„å“åº”å¼è®¾è®¡å®Œç¾èåˆï¼Œä¸ºç”¨æˆ·æä¾›äº†æ›´åŠ çµæ´»å’Œä¸ªæ€§åŒ–çš„ç•Œé¢ä½“éªŒï¼
