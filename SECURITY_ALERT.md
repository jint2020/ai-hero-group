# ğŸš¨ å®‰å…¨æé†’ï¼šAPI å¯†é’¥ä¿æŠ¤

## âš ï¸ é‡è¦å®‰å…¨è­¦å‘Š

**ç»å¯¹ä¸è¦å°†çœŸå®çš„ API å¯†é’¥æäº¤åˆ°ä»£ç ä»“åº“ï¼**

## ğŸ”´ å·²å¤„ç†çš„å®‰å…¨é—®é¢˜

åœ¨æœ¬æ¬¡æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œå‘ç° `.env` æ–‡ä»¶ä¸­åŒ…å«äº†çœŸå®çš„ API å¯†é’¥ï¼Œå·²ç«‹å³æ¸…ç†å¹¶æ¢å¤ä¸ºç¤ºä¾‹é…ç½®ã€‚

**å·²åˆ é™¤çš„æ•æ„Ÿä¿¡æ¯:**
- SiliconFlow API å¯†é’¥
- OpenRouter API å¯†é’¥
- DeepSeek API å¯†é’¥

## ğŸ›¡ï¸ æœ€ä½³å®‰å…¨å®è·µ

### 1. ç¯å¢ƒå˜é‡æ–‡ä»¶ç®¡ç†

#### âœ… æ­£ç¡®åšæ³•
```bash
# .env (ç¤ºä¾‹æ–‡ä»¶ï¼Œå¯ä»¥æäº¤)
VITE_SILICONFLOW_API_KEY=your_api_key_here

# .env.local (çœŸå®å¯†é’¥ï¼Œä¸åº”è¯¥æäº¤)
VITE_SILICONFLOW_API_KEY=sk-xxxxxxxxxxxx
```

#### âŒ é”™è¯¯åšæ³•
```bash
# .env (åŒ…å«çœŸå®å¯†é’¥ï¼Œæå…¶å±é™©!)
VITE_SILICONFLOW_API_KEY=sk-ibaroyfcaicdwcunavlcmvxibmfygbjxjtsvgekzgokyupvb
```

### 2. Git å®‰å…¨é…ç½®

ç¡®ä¿ `.env.local` å·²è¢« `.gitignore` æ’é™¤ï¼š

```gitignore
# .gitignore
.env.local
.env.*.local
```

### 3. ä»£ç å®¡æŸ¥æ¸…å•

æäº¤ä»£ç å‰æ£€æŸ¥ï¼š
- [ ] æ²¡æœ‰ API å¯†é’¥
- [ ] æ²¡æœ‰å¯†ç æˆ–ä»¤ç‰Œ
- [ ] æ²¡æœ‰å†…éƒ¨ URLs
- [ ] æ²¡æœ‰æ•æ„Ÿé…ç½®ä¿¡æ¯

### 4. å¯†é’¥æ³„éœ²åçš„åº”å¯¹æªæ–½

å¦‚æœæ‚¨çš„å¯†é’¥å¯èƒ½å·²æ³„éœ²ï¼š

1. **ç«‹å³æ’¤é”€å¯†é’¥**
   - ç™»å½•å¯¹åº”å¹³å°çš„æ§åˆ¶å°
   - æ’¤é”€æ³„éœ²çš„ API å¯†é’¥
   - ç”Ÿæˆæ–°çš„å¯†é’¥

2. **æ£€æŸ¥ä½¿ç”¨è®°å½•**
   - æŸ¥çœ‹ API è°ƒç”¨æ—¥å¿—
   - ç¡®è®¤æ˜¯å¦æœ‰å¼‚å¸¸ä½¿ç”¨
   - æ£€æŸ¥è´¦å•å’Œä½¿ç”¨é‡

3. **æ›´æ–°æ‰€æœ‰éƒ¨ç½²**
   - æ›´æ–°å¼€å‘ç¯å¢ƒå˜é‡
   - æ›´æ–°ç”Ÿäº§ç¯å¢ƒå˜é‡
   - æ›´æ–° CI/CD é…ç½®

4. **ç›‘æ§è´¦æˆ·æ´»åŠ¨**
   - å¯ç”¨å‘Šè­¦é€šçŸ¥
   - è®¾ç½®ä½¿ç”¨é™é¢
   - å®šæœŸæ£€æŸ¥ä½¿ç”¨æƒ…å†µ

## ğŸ“‹ å¯†é’¥ç®¡ç†æŒ‡å—

### å¼€å‘ç¯å¢ƒ

```bash
# 1. åˆ›å»º .env.local æ–‡ä»¶
cp .env .env.local

# 2. ç¼–è¾‘ .env.localï¼Œå¡«å…¥çœŸå®å¯†é’¥
vim .env.local

# 3. ç¡®ä¿ .env.local ä¸è¢« git è·Ÿè¸ª
echo ".env.local" >> .gitignore
```

### ç”Ÿäº§ç¯å¢ƒ

```bash
# ä½¿ç”¨ç¯å¢ƒå˜é‡è®¾ç½®ï¼ˆæ¨èï¼‰
export VITE_SILICONFLOW_API_KEY=sk-xxxxxxx

# æˆ–ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡
# - AWS Secrets Manager
# - Azure Key Vault
# - Google Secret Manager
# - HashiCorp Vault
```

## ğŸ” å®šæœŸå®‰å…¨å®¡è®¡

### æ¯æœˆæ£€æŸ¥é¡¹ç›®
- [ ] æ£€æŸ¥æœ€è¿‘çš„æäº¤è®°å½•
- [ ] æ‰«æä»£ç ä¸­çš„æ•æ„Ÿä¿¡æ¯
- [ ] æ£€æŸ¥ `.gitignore` é…ç½®
- [ ] å®¡æ ¸å›¢é˜Ÿæˆå‘˜è®¿é—®æƒé™

### æ‰«æå·¥å…·

```bash
# ä½¿ç”¨ git-secrets æ‰«ææäº¤
git secrets --scan

# ä½¿ç”¨ TruffleHog æ‰«æå†å²
trufflehog git file://. --json | jq '.SourceMetadata.Data.Git.commit.message'

# ä½¿ç”¨ gitleaks æ‰«æ
gitleaks detect --source . --report-format json --report-path findings.json
```

## ğŸš¨ ç´§æ€¥å“åº”æµç¨‹

å¦‚æœå‘ç°å¯†é’¥æ³„éœ²ï¼š

1. **ç«‹å³è¡ŒåŠ¨ (0-1 å°æ—¶)**
   - æ’¤é”€æ³„éœ²çš„å¯†é’¥
   - æ£€æŸ¥ä½¿ç”¨è®°å½•
   - è”ç³»å®‰å…¨å›¢é˜Ÿ

2. **çŸ­æœŸè¡ŒåŠ¨ (1-24 å°æ—¶)**
   - ç”Ÿæˆæ–°å¯†é’¥
   - æ›´æ–°æ‰€æœ‰ç¯å¢ƒ
   - ç›‘æ§å¼‚å¸¸æ´»åŠ¨
   - è¯„ä¼°æŸå¤±

3. **é•¿æœŸæ”¹è¿› (1-7 å¤©)**
   - å®Œå–„å®‰å…¨æµç¨‹
   - æ›´æ–°å›¢é˜ŸåŸ¹è®­
   - å®æ–½è‡ªåŠ¨åŒ–æ‰«æ
   - å»ºç«‹å‘Šè­¦æœºåˆ¶

## ğŸ“š ç›¸å…³èµ„æº

- [OWASP å¯†é’¥ç®¡ç†æŒ‡å—](https://cheatsheetseries.owasp.org/cheatsheets/Key_Management_Cheat_Sheet.html)
- [GitHub å¯†é’¥æ‰«ææ–‡æ¡£](https://docs.github.com/en/code-security/secret-scanning)
- [ç¯å¢ƒå˜é‡æœ€ä½³å®è·µ](https://12factor.net/config)

## âœ… æœ¬æ¬¡æ›´æ–°åçš„å®‰å…¨çŠ¶æ€

- [x] å·²æ¸…ç†æ‰€æœ‰æ³„éœ²çš„ API å¯†é’¥
- [x] å·²æ¢å¤ `.env` ä¸ºç¤ºä¾‹é…ç½®
- [x] å·²éªŒè¯ `.env.local` åœ¨ `.gitignore` ä¸­
- [x] å·²åˆ›å»ºå®‰å…¨æ–‡æ¡£å’ŒæŒ‡å—
- [x] å·²å®æ–½å¯†é’¥ç®¡ç†æœ€ä½³å®è·µ

## ğŸ“ è”ç³»ä¿¡æ¯

å¦‚æœæ‚¨å‘ç°ä»»ä½•å®‰å…¨é—®é¢˜ï¼Œè¯·ç«‹å³è”ç³»ï¼š
- å®‰å…¨å›¢é˜Ÿ: security@yourcompany.com
- é¡¹ç›®ç»´æŠ¤è€…: maintainer@yourcompany.com

---

**æœ€åæ›´æ–°**: 2025å¹´ 1æœˆ
**çŠ¶æ€**: âœ… å·²ä¿®å¤æ‰€æœ‰å‘ç°çš„é—®é¢˜
